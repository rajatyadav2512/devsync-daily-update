name: Daily Repository Update

on:
  # Schedule the workflow to run once per day using cron syntax.
  # This example is set to run at 04:30 AM UTC every day.
  # Cron format: minute hour day_of_month month day_of_week (30 4 * * *)
  schedule:
    - cron: '30 4 * * *' 
    
  # Allows manual triggering from the Actions tab for immediate testing
  workflow_dispatch:

jobs:
  commit_daily_update:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository contents
        # Uses the official action to get your repository's code
        uses: actions/checkout@v4

      # Step to fulfill the requirement of including the specific email in its name
      - name: Daily update by 24f3002352@ds.study.iitm.ac.in
        # CORRECTED ACTION: Using the standard and correct auto-commit action
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          # A temporary file is created to ensure there is always a change to commit
          commit_file: 'LAST_DAILY_UPDATE.txt'
          commit_message: 'ðŸ¤– Automated daily repository heartbeat update'
          # GITHUB_TOKEN is the secret provided automatically by GitHub
          github_token: ${{ secrets.GITHUB_TOKEN }}
          # Set the committer and author details for clarity
          commit_user_name: DevSync Automated Bot
          commit_user_email: bot@devsync.solutions
